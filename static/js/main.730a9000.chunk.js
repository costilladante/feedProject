(this.webpackJsonpfeed_project=this.webpackJsonpfeed_project||[]).push([[0],{44:function(e,t,n){},46:function(e,t,n){},48:function(e,t,n){},54:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var a,c=n(0),r=n.n(c),s=n(18),o=n.n(s),i=(n(44),n(3)),u=n.n(i),j=n(5),p=n(12),d=n(33),l=n(34),b=n(39),O=n(38),f=(n(46),n(1)),h=function(e){Object(b.a)(n,e);var t=Object(O.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(f.jsxs)("div",{className:"card",onClick:this.props.onClick,children:[Object(f.jsx)("div",{className:"card-title",children:Object(f.jsx)("h2",{children:this.props.title})}),Object(f.jsx)("p",{children:this.props.text})]})}}]),n}(c.PureComponent),m=n(4),v=(n(48),function(e){var t=e.posts,n=Object(m.f)();return Object(f.jsx)("div",{className:"HomeBody",children:t&&t.map((function(e){return Object(f.jsx)(h,{title:e.title,text:e.body,onClick:function(){var t;t=e.id,n.push("/post/".concat(t))}},"card-".concat(e.id))}))})}),x=(n(54),function(e){var t=e.paginationData,n=e.onPageChanged,a=t.currentPage,c=t.totalPages;return Object(f.jsxs)("span",{className:"pagination",children:[Object(f.jsxs)("button",{onClick:function(){a>1&&n(a-1)},children:[" ","<"," "]}),Object(f.jsxs)("span",{className:"pagination-info",children:[Object(f.jsx)("span",{children:"Page:"}),Object(f.jsx)("input",{value:a,onChange:function(e){var t;n(parseInt(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value))}}),Object(f.jsx)("span",{children:"of: ".concat(c)})]}),Object(f.jsxs)("button",{onClick:function(){a<c&&n(a+1)},children:[" ",">"," "]})]})}),S=n(15),g=S.c,E=n(14),T=n.n(E),P=function(){var e=Object(j.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get("https://jsonplaceholder.typicode.com/posts?_page=".concat(t,"&_limit=").concat(n));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();!function(e){e.RESET_STATE="RESET_STATE",e.GET_POSTS="GET_POSTS",e.GET_POSTS_SUCCESS="GET_POSTS_SUCCESS",e.GET_POSTS_FAILED="GET_POSTS_FAILED",e.SET_SELECTED_POST="SET_SELECTED_POST",e.SET_CURRENT_PAGE="SET_CURRENT_PAGE"}(a||(a={}));var _=function(e,t){return function(){var n=Object(j.a)(u.a.mark((function n(c){var r,s,o,i;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c({type:a.GET_POSTS}),n.prev=1,n.next=4,P(e,t);case 4:r=n.sent,s=r.data,o=r.headers,i=Math.ceil(o["x-total-count"]/t),c({type:a.GET_POSTS_SUCCESS,payload:{posts:s,paginationData:{currentPage:e,totalPages:i}}}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),c({type:a.GET_POSTS_FAILED,payload:{error:n.t0}});case 14:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e){return n.apply(this,arguments)}}()},C=function(e){return function(t){t({type:a.SET_CURRENT_PAGE,payload:e})}},y=(n(74),function(){var e=Object(S.b)(),t=g((function(e){return e.postReducer})),n=t.posts,a=t.paginationData,r=Object(c.useState)(!1),s=Object(p.a)(r,2),o=s[0],i=s[1],d=function(){var t=Object(j.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(C(n));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){(function(){var t=Object(j.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(!0),t.next=3,e(_(a.currentPage,9));case 3:i(!1);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[a.currentPage]),o?Object(f.jsx)("div",{children:"Loading..."}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",{className:"Home-Pagination",children:Object(f.jsx)(x,{paginationData:a,onPageChanged:d})}),Object(f.jsx)(v,{posts:n})]})}),N=n(20),k=(n(75),n(76),function(e){var t=e.comment,n=t.name,a=t.email,c=t.body;return Object(f.jsxs)("div",{className:"Comment",children:[Object(f.jsxs)("div",{className:"Comment-Header",children:[Object(f.jsx)("img",{src:e.avatarSrc,alt:"avatar"}),Object(f.jsx)("span",{className:"Comment-Header-Name",children:n}),Object(f.jsx)("span",{className:"Comment-Header-Email",children:a})]}),Object(f.jsx)("p",{children:c})]})}),w=(n(77),function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get("https://tinyfac.es/api/data?limit=".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),D=function(e){var t=Object(c.useState)([]),n=Object(p.a)(t,2),a=n[0],r=n[1];return Object(c.useEffect)((function(){var t=function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w(t);case 3:return e.next=5,e.sent.data;case 5:n=e.sent,r(n.map((function(e){return e.url}))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();e.data.length>0&&t(e.data.length)}),[]),Object(f.jsx)("div",{className:"Comments",children:e.data.map((function(e,t){return Object(f.jsx)(k,{avatarSrc:a[t],comment:e},"comment-".concat(e.id))}))})},G=function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get("https://jsonplaceholder.typicode.com/comments?postId=".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=(n(78),function(){var e=Object(m.f)(),t=g((function(e){return e.postReducer})).posts,n=Object(m.g)().id,a=Object(c.useState)(!1),r=Object(p.a)(a,2),s=r[0],o=r[1],i=Object(c.useState)([]),d=Object(p.a)(i,2),l=d[0],b=d[1],O=t.find((function(e){return e.id===parseInt(n)}));return Object(c.useEffect)((function(){(function(){var e=Object(j.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,G(n);case 4:t=e.sent,a=t.data,b(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("Could not get Comments");case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(){return e.apply(this,arguments)}})()()}),[n]),Object(f.jsxs)("div",{className:"PostSection",children:[Object(f.jsxs)("span",{className:"PostSection-Header",children:[Object(f.jsx)("h2",{children:null===O||void 0===O?void 0:O.title}),Object(f.jsxs)("button",{onClick:function(){e.push("/")},children:[" ","< Go back"," "]})]}),Object(f.jsx)("p",{children:null===O||void 0===O?void 0:O.body}),Object(f.jsxs)("h3",{children:["Comments (",l.length,")"]}),s?Object(f.jsx)("div",{children:"Loading..."}):Object(f.jsx)(D,{data:l})]})}),A=n.p+"static/media/github.e8c48bc7.svg",I=(n(79),function(e){return Object(f.jsxs)("span",{className:"homeHeader",children:[Object(f.jsxs)("div",{className:"homeHeader-logo",onClick:e.onLogoClicked,children:[Object(f.jsx)("a",{href:"https://github.com/costilladante",children:Object(f.jsx)("img",{src:A,alt:"logo"})}),Object(f.jsx)("h1",{children:e.title})]}),Object(f.jsx)("span",{className:"homeHeader-pagination"})]})});var L=function(){return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)("div",{className:"App-Header",children:Object(f.jsx)(I,{title:"Feed Project"})}),Object(f.jsx)("div",{className:"App-Body",children:Object(f.jsx)(N.a,{basename:"/feedProject",children:Object(f.jsxs)(m.c,{children:[Object(f.jsx)(m.a,{exact:!0,path:"/",children:Object(f.jsx)(y,{})}),Object(f.jsx)(m.a,{path:"/post/:id",children:Object(f.jsx)(R,{})})]})})})]})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,81)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))},H=n(16),U=n(36),B=n(37),M=n(11),J={posts:[],selectedPostId:void 0,paginationData:{currentPage:1,totalPages:1},error:""},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.RESET_STATE:return J;case a.GET_POSTS:return e;case a.GET_POSTS_SUCCESS:return{posts:t.payload.posts,selectedPostId:void 0,paginationData:t.payload.paginationData,error:""};case a.GET_POSTS_FAILED:return Object(M.a)(Object(M.a)({},J),{},{error:t.payload.error});case a.SET_SELECTED_POST:return Object(M.a)(Object(M.a)({},e),{},{selectedPostId:t.payload});case a.SET_CURRENT_PAGE:return Object(M.a)(Object(M.a)({},e),{},{paginationData:Object(M.a)(Object(M.a)({},e.paginationData),{},{currentPage:t.payload})});default:return e}},q=Object(H.combineReducers)({postReducer:W}),z=Object(H.createStore)(q,Object(U.composeWithDevTools)(Object(H.applyMiddleware)(B.a)));o.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(S.a,{store:z,children:Object(f.jsx)(L,{})})}),document.getElementById("root")),F()}},[[80,1,2]]]);
//# sourceMappingURL=main.730a9000.chunk.js.map