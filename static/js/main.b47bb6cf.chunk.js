(this.webpackJsonpfeed_project=this.webpackJsonpfeed_project||[]).push([[0],{47:function(e,t,n){},49:function(e,t,n){},51:function(e,t,n){},57:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var a,c=n(0),r=n.n(c),s=n(19),o=n.n(s),i=(n(47),n(4)),u=n.n(i),j=n(8),l=n(15),d=n(23),p=n(24),b=n(26),O=n(25),h=(n(49),n(1)),f=function(e){Object(b.a)(n,e);var t=Object(O.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"card",onClick:this.props.onClick,children:[Object(h.jsx)("div",{className:"card-title",children:Object(h.jsx)("h2",{children:this.props.title})}),Object(h.jsx)("p",{children:this.props.text})]})}}]),n}(c.PureComponent),m=n(3),v=(n(51),function(e){var t=e.posts,n=Object(m.f)();return Object(h.jsx)("div",{className:"HomeBody",children:t&&t.map((function(e){return Object(h.jsx)(f,{title:e.title,text:e.body,onClick:function(){var t;t=e.id,n.push("/post/".concat(t))}},"card-".concat(e.id))}))})}),x=(n(57),function(e){var t=e.paginationData,n=e.onPageChanged,a=t.currentPage,c=t.totalPages;return Object(h.jsxs)("span",{className:"pagination",children:[Object(h.jsxs)("button",{onClick:function(){a>1&&n(a-1)},children:[" ","<"," "]}),Object(h.jsxs)("span",{className:"pagination-info",children:[Object(h.jsx)("span",{children:"Page:"}),Object(h.jsx)("input",{value:a,onChange:function(e){var t;n(parseInt(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value))}}),Object(h.jsx)("span",{children:"of: ".concat(c)})]}),Object(h.jsxs)("button",{onClick:function(){a<c&&n(a+1)},children:[" ",">"," "]})]})}),S=n(13),g=S.c,E=n(18),T=n.n(E),C=function(){var e=Object(j.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get("https://jsonplaceholder.typicode.com/posts?_page=".concat(t,"&_limit=").concat(n));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();!function(e){e.RESET_STATE="RESET_STATE",e.GET_POSTS="GET_POSTS",e.GET_POSTS_SUCCESS="GET_POSTS_SUCCESS",e.GET_POSTS_FAILED="GET_POSTS_FAILED",e.SET_SELECTED_POST="SET_SELECTED_POST",e.SET_CURRENT_PAGE="SET_CURRENT_PAGE"}(a||(a={}));var P=function(e,t){return function(){var n=Object(j.a)(u.a.mark((function n(c){var r,s,o,i;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c({type:a.GET_POSTS}),n.prev=1,n.next=4,C(e,t);case 4:r=n.sent,s=r.data,o=r.headers,i=Math.ceil(o["x-total-count"]/t),c({type:a.GET_POSTS_SUCCESS,payload:{posts:s,paginationData:{currentPage:e,totalPages:i}}}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),c({type:a.GET_POSTS_FAILED,payload:{error:n.t0}});case 14:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e){return n.apply(this,arguments)}}()},_=function(e){return function(t){t({type:a.SET_CURRENT_PAGE,payload:e})}},y=(n(77),function(){var e=Object(S.b)(),t=g((function(e){return e.postReducer})),n=t.posts,a=t.paginationData,r=Object(c.useState)(!1),s=Object(l.a)(r,2),o=s[0],i=s[1],d=function(){var t=Object(j.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(_(n));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){(function(){var t=Object(j.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(!0),t.next=3,e(P(a.currentPage,9));case 3:i(!1);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[a.currentPage]),o?Object(h.jsx)("div",{children:"Loading..."}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("span",{className:"Home-Pagination",children:Object(h.jsx)(x,{paginationData:a,onPageChanged:d})}),Object(h.jsx)(v,{posts:n})]})}),k=n(21),N=(n(78),n(42)),w=(n(79),function(e){Object(b.a)(n,e);var t=Object(O.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this.props,t=e.comment,n=e.avatarSrc,a=t.name,c=t.email,r=t.body;return Object(h.jsxs)("div",{className:"Comment",children:[Object(h.jsxs)("div",{className:"Comment-Header",children:[Object(h.jsx)("img",{src:n,alt:"avatar"}),Object(h.jsx)("span",{className:"Comment-Header-Name",children:a}),Object(h.jsx)("span",{className:"Comment-Header-Email",children:c})]}),Object(h.jsx)("p",{children:r})]})}}]),n}(c.PureComponent)),D=n.p+"static/media/avatar.4a895b67.svg",G=(n(80),function(e){return Object(h.jsx)("div",{className:"Comments",children:e.data.map((function(e,t){return Object(h.jsx)(w,{avatarSrc:D,comment:e},"comment-".concat(e.id))}))})}),A=function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get("https://jsonplaceholder.typicode.com/comments?postId=".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(j.a)(u.a.mark((function e(t,n,a,c){var r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={postId:t,name:n,email:a,body:c},e.next=3,T.a.post("https://jsonplaceholder.typicode.com/comments",r);case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a,c){return e.apply(this,arguments)}}(),I=(n(81),function(){var e=Object(m.f)(),t=g((function(e){return e.postReducer})).posts,n=Object(m.g)().id,a=Object(c.useState)(!1),r=Object(l.a)(a,2),s=r[0],o=r[1],i=Object(c.useState)([]),d=Object(l.a)(i,2),p=d[0],b=d[1],O=Object(c.useState)(""),f=Object(l.a)(O,2),v=f[0],x=f[1],S=t.find((function(e){return e.id===parseInt(n)}));Object(c.useEffect)((function(){(function(){var e=Object(j.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,A(n);case 4:t=e.sent,a=t.data,b(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("Could not get Comments");case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(){return e.apply(this,arguments)}})()()}),[n]);var E=function(){var e=Object(j.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,R(n,"Anon","anon@gmail.com",v);case 5:t=e.sent,a=t.data,b([a].concat(Object(N.a)(p))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error("Could not submit Comment");case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"PostSection",children:[Object(h.jsxs)("span",{className:"PostSection-Header",children:[Object(h.jsx)("h2",{children:null===S||void 0===S?void 0:S.title}),Object(h.jsxs)("button",{onClick:function(){e.push("/")},children:[" ","< Go back"," "]})]}),Object(h.jsx)("p",{children:null===S||void 0===S?void 0:S.body}),Object(h.jsxs)("h3",{children:["Comments (",p.length,")"]}),Object(h.jsxs)("div",{className:"PostSection-Comment",children:[Object(h.jsx)("textarea",{placeholder:"Submit a comment...",value:v,onChange:function(e){x(e.target.value)},children:v}),Object(h.jsx)("button",{disabled:!v,onClick:E,children:"Submit"})]}),s?Object(h.jsx)("div",{children:"Loading..."}):Object(h.jsx)(G,{data:p})]})}),L=n.p+"static/media/github.e8c48bc7.svg",F=(n(82),function(e){return Object(h.jsxs)("span",{className:"homeHeader",children:[Object(h.jsxs)("div",{className:"homeHeader-logo",onClick:e.onLogoClicked,children:[Object(h.jsx)("a",{href:"https://github.com/costilladante",children:Object(h.jsx)("img",{src:L,alt:"logo"})}),Object(h.jsx)("h1",{children:e.title})]}),Object(h.jsx)("span",{className:"homeHeader-pagination"})]})});var H=function(){return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("div",{className:"App-Header",children:Object(h.jsx)(F,{title:"Feed Project"})}),Object(h.jsx)("div",{className:"App-Body",children:Object(h.jsx)(k.a,{basename:"/feedProject",children:Object(h.jsxs)(m.c,{children:[Object(h.jsx)(m.a,{exact:!0,path:"/",children:Object(h.jsx)(y,{})}),Object(h.jsx)(m.a,{path:"/post/:id",children:Object(h.jsx)(I,{})})]})})})]})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,84)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))},B=n(14),M=n(40),J=n(41),W=n(11),q={posts:[],selectedPostId:void 0,paginationData:{currentPage:1,totalPages:1},error:""},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.RESET_STATE:return q;case a.GET_POSTS:return e;case a.GET_POSTS_SUCCESS:return{posts:t.payload.posts,selectedPostId:void 0,paginationData:t.payload.paginationData,error:""};case a.GET_POSTS_FAILED:return Object(W.a)(Object(W.a)({},q),{},{error:t.payload.error});case a.SET_SELECTED_POST:return Object(W.a)(Object(W.a)({},e),{},{selectedPostId:t.payload});case a.SET_CURRENT_PAGE:return Object(W.a)(Object(W.a)({},e),{},{paginationData:Object(W.a)(Object(W.a)({},e.paginationData),{},{currentPage:t.payload})});default:return e}},K=Object(B.combineReducers)({postReducer:z}),Q=Object(B.createStore)(K,Object(M.composeWithDevTools)(Object(B.applyMiddleware)(J.a)));o.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(S.a,{store:Q,children:Object(h.jsx)(H,{})})}),document.getElementById("root")),U()}},[[83,1,2]]]);
//# sourceMappingURL=main.b47bb6cf.chunk.js.map