(this.webpackJsonpfeed_project=this.webpackJsonpfeed_project||[]).push([[0],{44:function(t,e,n){},46:function(t,e,n){},48:function(t,e,n){},54:function(t,e,n){},74:function(t,e,n){},75:function(t,e,n){},76:function(t,e,n){},77:function(t,e,n){},78:function(t,e,n){},79:function(t,e,n){},80:function(t,e,n){"use strict";n.r(e);var a,c=n(0),r=n.n(c),s=n(18),o=n.n(s),i=(n(44),n(3)),u=n.n(i),j=n(5),p=n(12),l=n(33),d=n(34),b=n(39),O=n(38),h=(n(46),n(1)),f=function(t){Object(b.a)(n,t);var e=Object(O.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"card",onClick:this.props.onClick,children:[Object(h.jsx)("div",{className:"card-title",children:Object(h.jsx)("h2",{children:this.props.title})}),Object(h.jsx)("p",{children:this.props.text})]})}}]),n}(c.PureComponent),v=n(4),x=(n(48),function(t){var e=t.posts,n=Object(v.f)();return Object(h.jsx)("div",{className:"HomeBody",children:e&&e.map((function(t){return Object(h.jsx)(f,{title:t.title,text:t.body,onClick:function(){var e;e=t.id,n.push("/post/".concat(e))}},"card-".concat(t.id))}))})}),m=(n(54),function(t){var e=t.paginationData,n=t.onPageChanged,a=e.currentPage,c=e.totalPages;return Object(h.jsxs)("span",{className:"pagination",children:[Object(h.jsxs)("button",{onClick:function(){a>1&&n(a-1)},children:[" ","<"," "]}),Object(h.jsxs)("span",{className:"pagination-info",children:[Object(h.jsx)("span",{children:"Page:"}),Object(h.jsx)("input",{value:a,onChange:function(t){var e;n(parseInt(null===t||void 0===t||null===(e=t.target)||void 0===e?void 0:e.value))}}),Object(h.jsx)("span",{children:"of: ".concat(c)})]}),Object(h.jsxs)("button",{onClick:function(){a<c&&n(a+1)},children:[" ",">"," "]})]})}),S=n(15),g=S.c,E=n(14),T=n.n(E),P=function(){var t=Object(j.a)(u.a.mark((function t(e,n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.a.get("https://jsonplaceholder.typicode.com/posts?_page=".concat(e,"&_limit=").concat(n));case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();!function(t){t.RESET_STATE="RESET_STATE",t.GET_POSTS="GET_POSTS",t.GET_POSTS_SUCCESS="GET_POSTS_SUCCESS",t.GET_POSTS_FAILED="GET_POSTS_FAILED",t.SET_SELECTED_POST="SET_SELECTED_POST",t.SET_CURRENT_PAGE="SET_CURRENT_PAGE"}(a||(a={}));var _=function(t,e){return function(){var n=Object(j.a)(u.a.mark((function n(c){var r,s,o,i;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c({type:a.GET_POSTS}),n.prev=1,n.next=4,P(t,e);case 4:r=n.sent,s=r.data,o=r.headers,i=Math.ceil(o["x-total-count"]/e),c({type:a.GET_POSTS_SUCCESS,payload:{posts:s,paginationData:{currentPage:t,totalPages:i}}}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),c({type:a.GET_POSTS_FAILED,payload:{error:n.t0}});case 14:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(t){return n.apply(this,arguments)}}()},C=function(t){return function(e){e({type:a.SET_CURRENT_PAGE,payload:t})}},y=(n(74),function(){var t=Object(S.b)(),e=g((function(t){return t.postReducer})),n=e.posts,a=e.paginationData,r=Object(c.useState)(!1),s=Object(p.a)(r,2),o=s[0],i=s[1],l=function(){var e=Object(j.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(C(n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){(function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,t(_(a.currentPage,9));case 3:i(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a.currentPage]),o?Object(h.jsx)("div",{children:"Loading..."}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("span",{className:"Home-Pagination",children:Object(h.jsx)(m,{paginationData:a,onPageChanged:l})}),Object(h.jsx)(x,{posts:n})]})}),N=n(20),k=(n(75),n(76),function(t){var e=t.comment,n=e.name,a=e.email,c=e.body;return Object(h.jsxs)("div",{className:"Comment",children:[Object(h.jsxs)("div",{className:"Comment-Header",children:[Object(h.jsx)("img",{src:t.avatarSrc,alt:"avatar"}),Object(h.jsx)("span",{className:"Comment-Header-Name",children:n}),Object(h.jsx)("span",{className:"Comment-Header-Email",children:a})]}),Object(h.jsx)("p",{children:c})]})}),w=(n(77),function(){var t=Object(j.a)(u.a.mark((function t(e){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.a.get("https://tinyfac.es/api/data?limit=".concat(e));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),D=function(t){var e=Object(c.useState)([]),n=Object(p.a)(e,2),a=n[0],r=n[1];return Object(c.useEffect)((function(){var e=function(){var t=Object(j.a)(u.a.mark((function t(e){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w(e);case 3:return t.next=5,t.sent.data;case 5:n=t.sent,r(n.map((function(t){return t.url}))),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}();t.data.length>0&&e(t.data.length)}),[]),Object(h.jsx)("div",{className:"Comments",children:t.data.map((function(t,e){return Object(h.jsx)(k,{avatarSrc:a[e],comment:t},"comment-".concat(t.id))}))})},G=function(){var t=Object(j.a)(u.a.mark((function t(e){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.a.get("https://jsonplaceholder.typicode.com/comments?postId=".concat(e));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),R=(n(78),function(){var t=Object(v.f)(),e=g((function(t){return t.postReducer})).posts,n=Object(v.g)().id,a=Object(c.useState)(!1),r=Object(p.a)(a,2),s=r[0],o=r[1],i=Object(c.useState)([]),l=Object(p.a)(i,2),d=l[0],b=l[1],O=e.find((function(t){return t.id===parseInt(n)}));return Object(c.useEffect)((function(){(function(){var t=Object(j.a)(u.a.mark((function t(){var e,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(!0),t.prev=1,t.next=4,G(n);case 4:e=t.sent,a=e.data,b(a),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log("Could not get Comments");case 12:return t.prev=12,o(!1),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,9,12,15]])})));return function(){return t.apply(this,arguments)}})()()}),[n]),Object(h.jsxs)("div",{className:"PostSection",children:[Object(h.jsxs)("span",{className:"PostSection-Header",children:[Object(h.jsx)("h2",{children:null===O||void 0===O?void 0:O.title}),Object(h.jsxs)("button",{onClick:function(){t.push("/")},children:[" ","< Go back"," "]})]}),Object(h.jsx)("p",{children:null===O||void 0===O?void 0:O.body}),Object(h.jsxs)("h3",{children:["Comments (",d.length,")"]}),s?Object(h.jsx)("div",{children:"Loading..."}):Object(h.jsx)(D,{data:d})]})}),A=n.p+"static/media/github.e8c48bc7.svg",I=(n(79),function(t){return Object(h.jsxs)("span",{className:"homeHeader",children:[Object(h.jsxs)("div",{className:"homeHeader-logo",onClick:t.onLogoClicked,children:[Object(h.jsx)("a",{href:"https://github.com/costilladante",children:Object(h.jsx)("img",{src:A,alt:"logo"})}),Object(h.jsx)("h1",{children:t.title})]}),Object(h.jsx)("span",{className:"homeHeader-pagination"})]})});var L=function(){return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("div",{className:"App-Header",children:Object(h.jsx)(I,{title:"Feed Project"})}),Object(h.jsx)("div",{className:"App-Body",children:Object(h.jsx)(N.a,{children:Object(h.jsxs)(v.c,{children:[Object(h.jsx)(v.a,{exact:!0,path:"/",children:Object(h.jsx)(y,{})}),Object(h.jsx)(v.a,{path:"/post/:id",children:Object(h.jsx)(R,{})})]})})})]})},F=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,81)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,r=e.getLCP,s=e.getTTFB;n(t),a(t),c(t),r(t),s(t)}))},H=n(16),U=n(36),B=n(37),M=n(11),J={posts:[],selectedPostId:void 0,paginationData:{currentPage:1,totalPages:1},error:""},W=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case a.RESET_STATE:return J;case a.GET_POSTS:return t;case a.GET_POSTS_SUCCESS:return{posts:e.payload.posts,selectedPostId:void 0,paginationData:e.payload.paginationData,error:""};case a.GET_POSTS_FAILED:return Object(M.a)(Object(M.a)({},J),{},{error:e.payload.error});case a.SET_SELECTED_POST:return Object(M.a)(Object(M.a)({},t),{},{selectedPostId:e.payload});case a.SET_CURRENT_PAGE:return Object(M.a)(Object(M.a)({},t),{},{paginationData:Object(M.a)(Object(M.a)({},t.paginationData),{},{currentPage:e.payload})});default:return t}},q=Object(H.combineReducers)({postReducer:W}),z=Object(H.createStore)(q,Object(U.composeWithDevTools)(Object(H.applyMiddleware)(B.a)));o.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(S.a,{store:z,children:Object(h.jsx)(L,{})})}),document.getElementById("root")),F()}},[[80,1,2]]]);
//# sourceMappingURL=main.9975f0da.chunk.js.map